{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\AWS_Project\\\\MMCM-AWS-CAPSTONE\\\\capstone-app\\\\src\\\\components\\\\ProductCatalogue.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from 'firebase/auth';\nimport { getFirestore, doc, setDoc, updateDoc, onSnapshot, collection, query, getDocs } from 'firebase/firestore';\n\n// Global variables provided by the environment, safely fallback to defaults for local testing\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\nconst initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : '';\n\n// Initialize Firebase services\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst auth = getAuth(app);\n\n// Main App component\nconst App = () => {\n  _s();\n  // --- STATE MANAGEMENT ---\n  const [products, setProducts] = useState([]);\n  const [sales, setSales] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [newProduct, setNewProduct] = useState({\n    name: '',\n    stock: ''\n  });\n  const [saleProduct, setSaleProduct] = useState('');\n  const [saleQuantity, setSaleQuantity] = useState('');\n  const [userId, setUserId] = useState(null);\n  const [isStaffAuthenticated, setIsStaffAuthenticated] = useState(false);\n  const [currentView, setCurrentView] = useState('catalogue'); // 'catalogue', 'inventory', 'pos'\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [modalImage, setModalImage] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [sortOption, setSortOption] = useState('none');\n  const [currentPage, setCurrentPage] = useState(1);\n\n  // --- MOCK DATA AND CONFIG ---\n  const mockProducts = [{\n    id: 1,\n    name: \"Luxury Foundation\",\n    category: \"Face\",\n    price: 1500,\n    description: \"A flawless matte finish that lasts all day.\",\n    image: \"https://placehold.co/400x400/94a3b8/FFFFFF?text=Foundation\"\n  }, {\n    id: 2,\n    name: \"Vibrant Lipstick\",\n    category: \"Lips\",\n    price: 550,\n    description: \"Rich, creamy color with a satin feel.\",\n    image: \"https://placehold.co/400x400/ef4444/FFFFFF?text=Lipstick\"\n  }, {\n    id: 3,\n    name: \"Volumizing Mascara\",\n    category: \"Eyes\",\n    price: 650,\n    description: \"Adds incredible volume and length to your lashes.\",\n    image: \"https://placehold.co/400x400/4f46e5/FFFFFF?text=Mascara\"\n  }, {\n    id: 4,\n    name: \"Dewy Highlighter\",\n    category: \"Face\",\n    price: 780,\n    description: \"A soft, luminous glow for a radiant complexion.\",\n    image: \"https://placehold.co/400x400/fde047/FFFFFF?text=Highlighter\"\n  }, {\n    id: 5,\n    name: \"Hydrating Lip Balm\",\n    category: \"Lips\",\n    price: 320,\n    description: \"Nourishes and protects with a hint of color.\",\n    image: \"https://placehold.co/400x400/f9a8d4/FFFFFF?text=Lip+Balm\"\n  }, {\n    id: 6,\n    name: \"Waterproof Eyeliner\",\n    category: \"Eyes\",\n    price: 490,\n    description: \"Intense black pigment that stays put all day.\",\n    image: \"https://placehold.co/400x400/52525b/FFFFFF?text=Eyeliner\"\n  }, {\n    id: 7,\n    name: \"Radiant Blush\",\n    category: \"Face\",\n    price: 680,\n    description: \"A silky powder that adds a natural flush to cheeks.\",\n    image: \"https://placehold.co/400x400/fca5a5/FFFFFF?text=Blush\"\n  }, {\n    id: 8,\n    name: \"Setting Spray\",\n    category: \"Other\",\n    price: 850,\n    description: \"Keeps makeup looking fresh for hours.\",\n    image: \"https://placehold.co/400x400/a78bfa/FFFFFF?text=Setting+Spray\"\n  }, {\n    id: 9,\n    name: \"Matte Lipstick\",\n    category: \"Lips\",\n    price: 580,\n    description: \"Bold, long-lasting color with a velvety matte finish.\",\n    image: \"https://placehold.co/400x400/083344/FFFFFF?text=Matte+Lipstick\"\n  }, {\n    id: 10,\n    name: \"Glitter Eyeshadow\",\n    category: \"Eyes\",\n    price: 450,\n    description: \"Sparkling eyeshadow for a show-stopping look.\",\n    image: \"https://placehold.co/400x400/be123c/FFFFFF?text=Eyeshadow\"\n  }];\n  const categories = ['All', ...new Set(mockProducts.map(product => product.category))];\n  const itemsPerPage = 8; // Number of items to display per page\n\n  // --- FIREBASE AND DATA FETCHING ---\n  useEffect(() => {\n    const authAndSubscribe = async () => {\n      try {\n        if (initialAuthToken) {\n          await signInWithCustomToken(auth, initialAuthToken);\n        } else {\n          await signInAnonymously(auth);\n        }\n      } catch (error) {\n        console.error(\"Firebase Auth Error:\", error);\n      }\n    };\n    authAndSubscribe();\n    const unsubscribeAuth = onAuthStateChanged(auth, user => {\n      if (user) {\n        setUserId(user.uid);\n        const productsPath = `/artifacts/${appId}/public/data/products`;\n        const salesPath = `/artifacts/${appId}/public/data/sales`;\n        const unsubscribeProducts = onSnapshot(collection(db, productsPath), snapshot => {\n          const fetchedProducts = snapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data()\n          }));\n          setProducts(fetchedProducts);\n        });\n        const unsubscribeSales = onSnapshot(collection(db, salesPath), snapshot => {\n          const fetchedSales = snapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data()\n          }));\n          setSales(fetchedSales);\n        });\n        setLoading(false);\n        return () => {\n          unsubscribeProducts();\n          unsubscribeSales();\n        };\n      } else {\n        setUserId(null);\n        setLoading(false);\n      }\n    });\n    return () => unsubscribeAuth();\n  }, [initialAuthToken]);\n\n  // --- HANDLERS AND LOGIC ---\n  const handleMockLogin = () => {\n    setIsStaffAuthenticated(true);\n    setSidebarOpen(false);\n    setCurrentView('inventory');\n  };\n  const handleLogout = () => {\n    setIsStaffAuthenticated(false);\n    setSidebarOpen(false);\n    setCurrentView('catalogue');\n  };\n  const handleAddProduct = async e => {\n    e.preventDefault();\n    if (!newProduct.name || newProduct.stock === '') return;\n    const productsRef = doc(db, `/artifacts/${appId}/public/data/products`, newProduct.name);\n    try {\n      await setDoc(productsRef, {\n        name: newProduct.name,\n        stock: parseInt(newProduct.stock)\n      });\n      setNewProduct({\n        name: '',\n        stock: ''\n      });\n    } catch (e) {\n      console.error(\"Error adding product: \", e);\n    }\n  };\n  const handleRecordSale = async e => {\n    e.preventDefault();\n    if (!saleProduct || saleQuantity === '') return;\n    const productRef = doc(db, `/artifacts/${appId}/public/data/products`, saleProduct);\n    const productToUpdate = products.find(p => p.id === saleProduct);\n    if (productToUpdate && productToUpdate.stock >= parseInt(saleQuantity)) {\n      try {\n        await updateDoc(productRef, {\n          stock: productToUpdate.stock - parseInt(saleQuantity)\n        });\n        const salesCollectionRef = collection(db, `/artifacts/${appId}/public/data/sales`);\n        await setDoc(doc(salesCollectionRef), {\n          productName: productToUpdate.name,\n          quantity: parseInt(saleQuantity),\n          timestamp: new Date().toISOString()\n        });\n        setSaleProduct('');\n        setSaleQuantity('');\n      } catch (e) {\n        console.error(\"Error recording sale: \", e);\n      }\n    } else {\n      console.log('Insufficient stock or product not found.');\n      const messageBox = document.getElementById('messageBox');\n      messageBox.textContent = 'Insufficient stock or product not found.';\n      messageBox.style.display = 'block';\n      setTimeout(() => {\n        messageBox.style.display = 'none';\n      }, 3000);\n    }\n  };\n  const calculateTotalSales = () => {\n    return sales.reduce((total, sale) => total + sale.quantity, 0);\n  };\n  const openModal = image => {\n    setModalImage(image);\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n    setModalImage('');\n  };\n  const filteredProducts = mockProducts.filter(product => {\n    const matchesSearch = product.name.toLowerCase().includes(searchQuery.toLowerCase()) || product.description.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesCategory = selectedCategory === 'All' || product.category === selectedCategory;\n    return matchesSearch && matchesCategory;\n  });\n  const sortedProducts = [...filteredProducts].sort((a, b) => {\n    if (sortOption === 'price-asc') return a.price - b.price;\n    if (sortOption === 'price-desc') return b.price - a.price;\n    if (sortOption === 'name-asc') return a.name.localeCompare(b.name);\n    if (sortOption === 'name-desc') return b.name.localeCompare(a.name);\n    return 0;\n  });\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n  const currentItems = sortedProducts.slice(indexOfFirstItem, indexOfLastItem);\n  const totalPages = Math.ceil(sortedProducts.length / itemsPerPage);\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  // --- RENDER VIEWS ---\n  const renderView = () => {\n    switch (currentView) {\n      case 'catalogue':\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"header\", {\n            className: \"text-center mb-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight mb-2\",\n              children: \"Product Catalogue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg text-gray-600\",\n              children: \"Browse our collection of high-quality cosmetics.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col sm:flex-row items-center justify-between mb-8 space-y-4 sm:space-y-0 sm:space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search products...\",\n              value: searchQuery,\n              onChange: e => {\n                setSearchQuery(e.target.value);\n                setCurrentPage(1);\n              },\n              className: \"w-full sm:w-1/3 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm transition-all duration-200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4 w-full sm:w-auto\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedCategory,\n                onChange: e => {\n                  setSelectedCategory(e.target.value);\n                  setCurrentPage(1);\n                },\n                className: \"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm bg-white transition-all duration-200\",\n                children: categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: category,\n                  children: category\n                }, category, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: sortOption,\n                onChange: e => setSortOption(e.target.value),\n                className: \"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm bg-white transition-all duration-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"none\",\n                  children: \"Sort By\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"price-asc\",\n                  children: \"Price: Low to High\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"price-desc\",\n                  children: \"Price: High to Low\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name-asc\",\n                  children: \"Name: A-Z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"name-desc\",\n                  children: \"Name: Z-A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n            children: currentItems.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-3xl shadow-xl overflow-hidden transition-transform duration-300 hover:scale-105 transform\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full h-48 sm:h-56 bg-gray-200 flex items-center justify-center cursor-pointer\",\n                onClick: () => openModal(product.image),\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: product.image,\n                  alt: product.name,\n                  className: \"w-full h-full object-cover transition-transform duration-300 hover:scale-110\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-5 text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-xl font-bold text-gray-900\",\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-purple-600 mt-1\",\n                  children: product.category\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500 mt-2 text-sm\",\n                  children: product.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-extrabold text-purple-700 mt-4\",\n                  children: [\"\\u20B1\", product.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this)]\n            }, product.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center mt-12 space-x-2\",\n            children: [...Array(totalPages)].map((_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => paginate(index + 1),\n              className: `w-10 h-10 rounded-full font-bold transition-colors duration-200 ${currentPage === index + 1 ? 'bg-purple-600 text-white shadow-lg' : 'bg-white text-purple-600 border border-purple-200 hover:bg-purple-50'}`,\n              children: index + 1\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75\",\n            onClick: closeModal,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-xl shadow-2xl overflow-hidden max-w-2xl max-h-4/5 mx-auto relative p-2\",\n              onClick: e => e.stopPropagation(),\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: closeModal,\n                className: \"absolute top-2 right-2 text-white bg-gray-800 rounded-full w-8 h-8 flex items-center justify-center text-lg font-bold hover:bg-gray-600 transition-colors\",\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: modalImage,\n                alt: \"Enlarged product view\",\n                className: \"w-full h-full object-contain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true);\n      case 'inventory':\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-4xl sm:text-5xl font-extrabold text-purple-700 tracking-tight text-center mb-8\",\n            children: \"Inventory Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-2xl shadow-xl p-6 sm:p-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-gray-700 mb-4\",\n                children: \"Current Inventory\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 17\n              }, this), products.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 italic\",\n                children: \"No products in inventory. Add one below!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-4\",\n                children: products.map(product => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"bg-purple-50 p-4 rounded-xl flex items-center justify-between shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-lg font-medium text-purple-800\",\n                    children: product.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-lg font-bold text-purple-900\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-normal text-gray-600 mr-1\",\n                      children: \"Stock:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 348,\n                      columnNumber: 27\n                    }, this), \" \", product.stock]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 25\n                  }, this)]\n                }, product.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-2xl shadow-xl p-6 sm:p-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-gray-700 mb-4\",\n                children: \"Add New Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleAddProduct,\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Product Name\",\n                  value: newProduct.name,\n                  onChange: e => setNewProduct({\n                    ...newProduct,\n                    name: e.target.value\n                  }),\n                  className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition duration-200\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  placeholder: \"Initial Stock\",\n                  value: newProduct.stock,\n                  onChange: e => setNewProduct({\n                    ...newProduct,\n                    stock: e.target.value\n                  }),\n                  className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition duration-200\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"w-full bg-purple-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-purple-700 transition-colors duration-200 shadow-md transform hover:scale-105\",\n                  children: \"Add Product\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true);\n      case 'pos':\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-4xl sm:text-5xl font-extrabold text-green-700 tracking-tight text-center mb-8\",\n            children: \"Point of Sale\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-2xl shadow-xl p-6 sm:p-8 col-span-1 md:col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-gray-700 mb-4\",\n                children: \"Record a Sale\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleRecordSale,\n                className: \"grid grid-cols-1 sm:grid-cols-3 gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  value: saleProduct,\n                  onChange: e => setSaleProduct(e.target.value),\n                  className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition duration-200 col-span-1 sm:col-span-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select a Product\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 21\n                  }, this), products.map(product => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: product.id,\n                    children: product.name\n                  }, product.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  placeholder: \"Quantity\",\n                  value: saleQuantity,\n                  onChange: e => setSaleQuantity(e.target.value),\n                  className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition duration-200\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"w-full bg-green-500 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-600 transition-colors duration-200 shadow-md transform hover:scale-105 col-span-1 sm:col-span-3\",\n                  children: \"Record Sale\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-2xl shadow-xl p-6 sm:p-8 col-span-1 md:col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-gray-700 mb-4\",\n                children: \"Sales Report\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col sm:flex-row items-center justify-between p-4 bg-green-100 rounded-lg shadow-inner\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-lg text-green-800\",\n                  children: \"Total items sold:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-3xl font-extrabold text-green-900\",\n                  children: calculateTotalSales()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true);\n      default:\n        return null;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen bg-gray-100 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xl font-medium text-gray-700\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed inset-y-0 left-0 z-40 w-64 bg-gray-900 text-white transition-transform duration-300 ease-in-out transform ${sidebarOpen ? 'translate-x-0' : '-translate-x-full'} md:relative md:translate-x-0 md:w-64 flex flex-col`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 text-2xl font-extrabold text-center tracking-wide text-purple-300\",\n        children: \"Admin Portal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex-grow\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-2 p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setCurrentView('catalogue');\n                setSidebarOpen(false);\n              },\n              className: `w-full text-left px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${currentView === 'catalogue' ? 'bg-purple-600 text-white' : 'hover:bg-gray-700 text-gray-300'}`,\n              children: \"Catalogue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), !isStaffAuthenticated ? /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleMockLogin,\n              className: \"w-full text-left px-4 py-2 rounded-lg font-medium transition-colors duration-200 bg-green-500 text-white hover:bg-green-600\",\n              children: \"Staff Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setCurrentView('inventory');\n                  setSidebarOpen(false);\n                },\n                className: `w-full text-left px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${currentView === 'inventory' ? 'bg-purple-600 text-white' : 'hover:bg-gray-700 text-gray-300'}`,\n                children: \"Inventory\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setCurrentView('pos');\n                  setSidebarOpen(false);\n                },\n                className: `w-full text-left px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${currentView === 'pos' ? 'bg-purple-600 text-white' : 'hover:bg-gray-700 text-gray-300'}`,\n                children: \"Point of Sale\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLogout,\n                className: \"w-full text-left px-4 py-2 rounded-lg font-medium transition-colors duration-200 bg-red-500 text-white hover:bg-red-600\",\n                children: \"Logout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col p-4 sm:p-8 bg-gradient-to-br from-pink-50 to-purple-100 font-sans antialiased text-gray-800\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"messageBox\",\n        className: \"fixed top-4 left-1/2 -translate-x-1/2 bg-red-500 text-white px-4 py-2 rounded-lg shadow-xl hidden transition-opacity duration-300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSidebarOpen(!sidebarOpen),\n        className: \"md:hidden fixed top-4 left-4 z-50 p-2 bg-purple-600 text-white rounded-full shadow-lg\",\n        children: sidebarOpen ? '✕' : '☰'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto w-full\",\n        children: renderView()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 444,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"0aByE7HeLQIsYqTsdc2g8D53vv4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","initializeApp","getAuth","signInAnonymously","signInWithCustomToken","onAuthStateChanged","getFirestore","doc","setDoc","updateDoc","onSnapshot","collection","query","getDocs","jsxDEV","_jsxDEV","Fragment","_Fragment","appId","__app_id","firebaseConfig","__firebase_config","JSON","parse","initialAuthToken","__initial_auth_token","app","db","auth","App","_s","products","setProducts","sales","setSales","loading","setLoading","newProduct","setNewProduct","name","stock","saleProduct","setSaleProduct","saleQuantity","setSaleQuantity","userId","setUserId","isStaffAuthenticated","setIsStaffAuthenticated","currentView","setCurrentView","sidebarOpen","setSidebarOpen","showModal","setShowModal","modalImage","setModalImage","searchQuery","setSearchQuery","selectedCategory","setSelectedCategory","sortOption","setSortOption","currentPage","setCurrentPage","mockProducts","id","category","price","description","image","categories","Set","map","product","itemsPerPage","authAndSubscribe","error","console","unsubscribeAuth","user","uid","productsPath","salesPath","unsubscribeProducts","snapshot","fetchedProducts","docs","data","unsubscribeSales","fetchedSales","handleMockLogin","handleLogout","handleAddProduct","e","preventDefault","productsRef","parseInt","handleRecordSale","productRef","productToUpdate","find","p","salesCollectionRef","productName","quantity","timestamp","Date","toISOString","log","messageBox","document","getElementById","textContent","style","display","setTimeout","calculateTotalSales","reduce","total","sale","openModal","closeModal","filteredProducts","filter","matchesSearch","toLowerCase","includes","matchesCategory","sortedProducts","sort","a","b","localeCompare","indexOfLastItem","indexOfFirstItem","currentItems","slice","totalPages","Math","ceil","length","paginate","pageNumber","renderView","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","target","onClick","src","alt","Array","_","index","stopPropagation","onSubmit","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/AWS_Project/MMCM-AWS-CAPSTONE/capstone-app/src/components/ProductCatalogue.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from 'firebase/auth';\r\nimport { getFirestore, doc, setDoc, updateDoc, onSnapshot, collection, query, getDocs } from 'firebase/firestore';\r\n\r\n// Global variables provided by the environment, safely fallback to defaults for local testing\r\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\r\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\r\nconst initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : '';\r\n\r\n// Initialize Firebase services\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\nconst auth = getAuth(app);\r\n\r\n// Main App component\r\nconst App = () => {\r\n  // --- STATE MANAGEMENT ---\r\n  const [products, setProducts] = useState([]);\r\n  const [sales, setSales] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [newProduct, setNewProduct] = useState({ name: '', stock: '' });\r\n  const [saleProduct, setSaleProduct] = useState('');\r\n  const [saleQuantity, setSaleQuantity] = useState('');\r\n  const [userId, setUserId] = useState(null);\r\n  const [isStaffAuthenticated, setIsStaffAuthenticated] = useState(false);\r\n  const [currentView, setCurrentView] = useState('catalogue'); // 'catalogue', 'inventory', 'pos'\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalImage, setModalImage] = useState('');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('All');\r\n  const [sortOption, setSortOption] = useState('none');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  // --- MOCK DATA AND CONFIG ---\r\n  const mockProducts = [\r\n    {\r\n      id: 1, name: \"Luxury Foundation\", category: \"Face\", price: 1500,\r\n      description: \"A flawless matte finish that lasts all day.\",\r\n      image: \"https://placehold.co/400x400/94a3b8/FFFFFF?text=Foundation\",\r\n    },\r\n    {\r\n      id: 2, name: \"Vibrant Lipstick\", category: \"Lips\", price: 550,\r\n      description: \"Rich, creamy color with a satin feel.\",\r\n      image: \"https://placehold.co/400x400/ef4444/FFFFFF?text=Lipstick\",\r\n    },\r\n    {\r\n      id: 3, name: \"Volumizing Mascara\", category: \"Eyes\", price: 650,\r\n      description: \"Adds incredible volume and length to your lashes.\",\r\n      image: \"https://placehold.co/400x400/4f46e5/FFFFFF?text=Mascara\",\r\n    },\r\n    {\r\n      id: 4, name: \"Dewy Highlighter\", category: \"Face\", price: 780,\r\n      description: \"A soft, luminous glow for a radiant complexion.\",\r\n      image: \"https://placehold.co/400x400/fde047/FFFFFF?text=Highlighter\",\r\n    },\r\n    {\r\n      id: 5, name: \"Hydrating Lip Balm\", category: \"Lips\", price: 320,\r\n      description: \"Nourishes and protects with a hint of color.\",\r\n      image: \"https://placehold.co/400x400/f9a8d4/FFFFFF?text=Lip+Balm\",\r\n    },\r\n    {\r\n      id: 6, name: \"Waterproof Eyeliner\", category: \"Eyes\", price: 490,\r\n      description: \"Intense black pigment that stays put all day.\",\r\n      image: \"https://placehold.co/400x400/52525b/FFFFFF?text=Eyeliner\",\r\n    },\r\n    {\r\n      id: 7, name: \"Radiant Blush\", category: \"Face\", price: 680,\r\n      description: \"A silky powder that adds a natural flush to cheeks.\",\r\n      image: \"https://placehold.co/400x400/fca5a5/FFFFFF?text=Blush\",\r\n    },\r\n    {\r\n      id: 8, name: \"Setting Spray\", category: \"Other\", price: 850,\r\n      description: \"Keeps makeup looking fresh for hours.\",\r\n      image: \"https://placehold.co/400x400/a78bfa/FFFFFF?text=Setting+Spray\",\r\n    },\r\n    {\r\n      id: 9, name: \"Matte Lipstick\", category: \"Lips\", price: 580,\r\n      description: \"Bold, long-lasting color with a velvety matte finish.\",\r\n      image: \"https://placehold.co/400x400/083344/FFFFFF?text=Matte+Lipstick\",\r\n    },\r\n    {\r\n      id: 10, name: \"Glitter Eyeshadow\", category: \"Eyes\", price: 450,\r\n      description: \"Sparkling eyeshadow for a show-stopping look.\",\r\n      image: \"https://placehold.co/400x400/be123c/FFFFFF?text=Eyeshadow\",\r\n    },\r\n  ];\r\n  const categories = ['All', ...new Set(mockProducts.map(product => product.category))];\r\n  const itemsPerPage = 8; // Number of items to display per page\r\n\r\n  // --- FIREBASE AND DATA FETCHING ---\r\n  useEffect(() => {\r\n    const authAndSubscribe = async () => {\r\n      try {\r\n        if (initialAuthToken) {\r\n          await signInWithCustomToken(auth, initialAuthToken);\r\n        } else {\r\n          await signInAnonymously(auth);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Firebase Auth Error:\", error);\r\n      }\r\n    };\r\n\r\n    authAndSubscribe();\r\n\r\n    const unsubscribeAuth = onAuthStateChanged(auth, (user) => {\r\n      if (user) {\r\n        setUserId(user.uid);\r\n        const productsPath = `/artifacts/${appId}/public/data/products`;\r\n        const salesPath = `/artifacts/${appId}/public/data/sales`;\r\n        const unsubscribeProducts = onSnapshot(collection(db, productsPath), (snapshot) => {\r\n          const fetchedProducts = snapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data()\r\n          }));\r\n          setProducts(fetchedProducts);\r\n        });\r\n        const unsubscribeSales = onSnapshot(collection(db, salesPath), (snapshot) => {\r\n          const fetchedSales = snapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data()\r\n          }));\r\n          setSales(fetchedSales);\r\n        });\r\n        setLoading(false);\r\n        return () => {\r\n          unsubscribeProducts();\r\n          unsubscribeSales();\r\n        };\r\n      } else {\r\n        setUserId(null);\r\n        setLoading(false);\r\n      }\r\n    });\r\n\r\n    return () => unsubscribeAuth();\r\n  }, [initialAuthToken]);\r\n\r\n  // --- HANDLERS AND LOGIC ---\r\n  const handleMockLogin = () => {\r\n    setIsStaffAuthenticated(true);\r\n    setSidebarOpen(false);\r\n    setCurrentView('inventory');\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setIsStaffAuthenticated(false);\r\n    setSidebarOpen(false);\r\n    setCurrentView('catalogue');\r\n  };\r\n\r\n  const handleAddProduct = async (e) => {\r\n    e.preventDefault();\r\n    if (!newProduct.name || newProduct.stock === '') return;\r\n    const productsRef = doc(db, `/artifacts/${appId}/public/data/products`, newProduct.name);\r\n    try {\r\n      await setDoc(productsRef, {\r\n        name: newProduct.name,\r\n        stock: parseInt(newProduct.stock)\r\n      });\r\n      setNewProduct({ name: '', stock: '' });\r\n    } catch (e) {\r\n      console.error(\"Error adding product: \", e);\r\n    }\r\n  };\r\n\r\n  const handleRecordSale = async (e) => {\r\n    e.preventDefault();\r\n    if (!saleProduct || saleQuantity === '') return;\r\n    const productRef = doc(db, `/artifacts/${appId}/public/data/products`, saleProduct);\r\n    const productToUpdate = products.find(p => p.id === saleProduct);\r\n    if (productToUpdate && productToUpdate.stock >= parseInt(saleQuantity)) {\r\n      try {\r\n        await updateDoc(productRef, {\r\n          stock: productToUpdate.stock - parseInt(saleQuantity)\r\n        });\r\n        const salesCollectionRef = collection(db, `/artifacts/${appId}/public/data/sales`);\r\n        await setDoc(doc(salesCollectionRef), {\r\n          productName: productToUpdate.name,\r\n          quantity: parseInt(saleQuantity),\r\n          timestamp: new Date().toISOString()\r\n        });\r\n        setSaleProduct('');\r\n        setSaleQuantity('');\r\n      } catch (e) {\r\n        console.error(\"Error recording sale: \", e);\r\n      }\r\n    } else {\r\n      console.log('Insufficient stock or product not found.');\r\n      const messageBox = document.getElementById('messageBox');\r\n      messageBox.textContent = 'Insufficient stock or product not found.';\r\n      messageBox.style.display = 'block';\r\n      setTimeout(() => {\r\n        messageBox.style.display = 'none';\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  const calculateTotalSales = () => {\r\n    return sales.reduce((total, sale) => total + sale.quantity, 0);\r\n  };\r\n\r\n  const openModal = (image) => {\r\n    setModalImage(image);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setModalImage('');\r\n  };\r\n\r\n  const filteredProducts = mockProducts.filter(product => {\r\n    const matchesSearch = product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                          product.description.toLowerCase().includes(searchQuery.toLowerCase());\r\n    const matchesCategory = selectedCategory === 'All' || product.category === selectedCategory;\r\n    return matchesSearch && matchesCategory;\r\n  });\r\n\r\n  const sortedProducts = [...filteredProducts].sort((a, b) => {\r\n    if (sortOption === 'price-asc') return a.price - b.price;\r\n    if (sortOption === 'price-desc') return b.price - a.price;\r\n    if (sortOption === 'name-asc') return a.name.localeCompare(b.name);\r\n    if (sortOption === 'name-desc') return b.name.localeCompare(a.name);\r\n    return 0;\r\n  });\r\n\r\n  const indexOfLastItem = currentPage * itemsPerPage;\r\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n  const currentItems = sortedProducts.slice(indexOfFirstItem, indexOfLastItem);\r\n  const totalPages = Math.ceil(sortedProducts.length / itemsPerPage);\r\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\r\n\r\n  // --- RENDER VIEWS ---\r\n  const renderView = () => {\r\n    switch (currentView) {\r\n      case 'catalogue':\r\n        return (\r\n          <>\r\n            <header className=\"text-center mb-12\">\r\n              <h1 className=\"text-4xl sm:text-5xl font-extrabold text-gray-800 tracking-tight mb-2\">Product Catalogue</h1>\r\n              <p className=\"text-lg text-gray-600\">Browse our collection of high-quality cosmetics.</p>\r\n            </header>\r\n            <div className=\"flex flex-col sm:flex-row items-center justify-between mb-8 space-y-4 sm:space-y-0 sm:space-x-4\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search products...\"\r\n                value={searchQuery}\r\n                onChange={(e) => { setSearchQuery(e.target.value); setCurrentPage(1); }}\r\n                className=\"w-full sm:w-1/3 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm transition-all duration-200\"\r\n              />\r\n              <div className=\"flex items-center space-x-4 w-full sm:w-auto\">\r\n                <select\r\n                  value={selectedCategory}\r\n                  onChange={(e) => { setSelectedCategory(e.target.value); setCurrentPage(1); }}\r\n                  className=\"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm bg-white transition-all duration-200\"\r\n                >\r\n                  {categories.map(category => (\r\n                    <option key={category} value={category}>{category}</option>\r\n                  ))}\r\n                </select>\r\n                <select\r\n                  value={sortOption}\r\n                  onChange={(e) => setSortOption(e.target.value)}\r\n                  className=\"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm bg-white transition-all duration-200\"\r\n                >\r\n                  <option value=\"none\">Sort By</option>\r\n                  <option value=\"price-asc\">Price: Low to High</option>\r\n                  <option value=\"price-desc\">Price: High to Low</option>\r\n                  <option value=\"name-asc\">Name: A-Z</option>\r\n                  <option value=\"name-desc\">Name: Z-A</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n              {currentItems.map(product => (\r\n                <div key={product.id} className=\"bg-white rounded-3xl shadow-xl overflow-hidden transition-transform duration-300 hover:scale-105 transform\">\r\n                  <div\r\n                    className=\"w-full h-48 sm:h-56 bg-gray-200 flex items-center justify-center cursor-pointer\"\r\n                    onClick={() => openModal(product.image)}\r\n                  >\r\n                    <img src={product.image} alt={product.name} className=\"w-full h-full object-cover transition-transform duration-300 hover:scale-110\" />\r\n                  </div>\r\n                  <div className=\"p-5 text-center\">\r\n                    <h2 className=\"text-xl font-bold text-gray-900\">{product.name}</h2>\r\n                    <p className=\"text-sm font-medium text-purple-600 mt-1\">{product.category}</p>\r\n                    <p className=\"text-gray-500 mt-2 text-sm\">{product.description}</p>\r\n                    <p className=\"text-2xl font-extrabold text-purple-700 mt-4\">₱{product.price}</p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {totalPages > 1 && (\r\n              <div className=\"flex justify-center mt-12 space-x-2\">\r\n                {[...Array(totalPages)].map((_, index) => (\r\n                  <button\r\n                    key={index}\r\n                    onClick={() => paginate(index + 1)}\r\n                    className={`w-10 h-10 rounded-full font-bold transition-colors duration-200 ${\r\n                      currentPage === index + 1\r\n                        ? 'bg-purple-600 text-white shadow-lg'\r\n                        : 'bg-white text-purple-600 border border-purple-200 hover:bg-purple-50'\r\n                    }`}\r\n                  >\r\n                    {index + 1}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n            {showModal && (\r\n              <div\r\n                className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75\"\r\n                onClick={closeModal}\r\n              >\r\n                <div className=\"bg-white rounded-xl shadow-2xl overflow-hidden max-w-2xl max-h-4/5 mx-auto relative p-2\" onClick={e => e.stopPropagation()}>\r\n                  <button\r\n                    onClick={closeModal}\r\n                    className=\"absolute top-2 right-2 text-white bg-gray-800 rounded-full w-8 h-8 flex items-center justify-center text-lg font-bold hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    &times;\r\n                  </button>\r\n                  <img src={modalImage} alt=\"Enlarged product view\" className=\"w-full h-full object-contain\" />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        );\r\n\r\n      case 'inventory':\r\n        return (\r\n          <>\r\n            <h1 className=\"text-4xl sm:text-5xl font-extrabold text-purple-700 tracking-tight text-center mb-8\">\r\n              Inventory Management\r\n            </h1>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n              <div className=\"bg-white rounded-2xl shadow-xl p-6 sm:p-8\">\r\n                <h2 className=\"text-2xl font-bold text-gray-700 mb-4\">Current Inventory</h2>\r\n                {products.length === 0 ? (\r\n                  <p className=\"text-gray-500 italic\">No products in inventory. Add one below!</p>\r\n                ) : (\r\n                  <ul className=\"space-y-4\">\r\n                    {products.map(product => (\r\n                      <li key={product.id} className=\"bg-purple-50 p-4 rounded-xl flex items-center justify-between shadow-sm\">\r\n                        <span className=\"text-lg font-medium text-purple-800\">{product.name}</span>\r\n                        <span className=\"text-lg font-bold text-purple-900\">\r\n                          <span className=\"text-sm font-normal text-gray-600 mr-1\">Stock:</span> {product.stock}\r\n                        </span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                )}\r\n              </div>\r\n              <div className=\"bg-white rounded-2xl shadow-xl p-6 sm:p-8\">\r\n                <h2 className=\"text-2xl font-bold text-gray-700 mb-4\">Add New Product</h2>\r\n                <form onSubmit={handleAddProduct} className=\"space-y-4\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Product Name\"\r\n                    value={newProduct.name}\r\n                    onChange={(e) => setNewProduct({ ...newProduct, name: e.target.value })}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition duration-200\"\r\n                  />\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"Initial Stock\"\r\n                    value={newProduct.stock}\r\n                    onChange={(e) => setNewProduct({ ...newProduct, stock: e.target.value })}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition duration-200\"\r\n                  />\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"w-full bg-purple-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-purple-700 transition-colors duration-200 shadow-md transform hover:scale-105\"\r\n                  >\r\n                    Add Product\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </>\r\n        );\r\n\r\n      case 'pos':\r\n        return (\r\n          <>\r\n            <h1 className=\"text-4xl sm:text-5xl font-extrabold text-green-700 tracking-tight text-center mb-8\">\r\n              Point of Sale\r\n            </h1>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n              <div className=\"bg-white rounded-2xl shadow-xl p-6 sm:p-8 col-span-1 md:col-span-2\">\r\n                <h2 className=\"text-2xl font-bold text-gray-700 mb-4\">Record a Sale</h2>\r\n                <form onSubmit={handleRecordSale} className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n                  <select\r\n                    value={saleProduct}\r\n                    onChange={(e) => setSaleProduct(e.target.value)}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition duration-200 col-span-1 sm:col-span-2\"\r\n                  >\r\n                    <option value=\"\">Select a Product</option>\r\n                    {products.map(product => (\r\n                      <option key={product.id} value={product.id}>{product.name}</option>\r\n                    ))}\r\n                  </select>\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"Quantity\"\r\n                    value={saleQuantity}\r\n                    onChange={(e) => setSaleQuantity(e.target.value)}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition duration-200\"\r\n                  />\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"w-full bg-green-500 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-600 transition-colors duration-200 shadow-md transform hover:scale-105 col-span-1 sm:col-span-3\"\r\n                  >\r\n                    Record Sale\r\n                  </button>\r\n                </form>\r\n              </div>\r\n              <div className=\"bg-white rounded-2xl shadow-xl p-6 sm:p-8 col-span-1 md:col-span-2\">\r\n                <h2 className=\"text-2xl font-bold text-gray-700 mb-4\">Sales Report</h2>\r\n                <div className=\"flex flex-col sm:flex-row items-center justify-between p-4 bg-green-100 rounded-lg shadow-inner\">\r\n                  <div className=\"text-lg text-green-800\">Total items sold:</div>\r\n                  <div className=\"text-3xl font-extrabold text-green-900\">{calculateTotalSales()}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-100 p-4\">\r\n        <div className=\"text-xl font-medium text-gray-700\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex\">\r\n      {/* --- Sidebar --- */}\r\n      <div className={`fixed inset-y-0 left-0 z-40 w-64 bg-gray-900 text-white transition-transform duration-300 ease-in-out transform ${sidebarOpen ? 'translate-x-0' : '-translate-x-full'} md:relative md:translate-x-0 md:w-64 flex flex-col`}>\r\n        <div className=\"p-6 text-2xl font-extrabold text-center tracking-wide text-purple-300\">\r\n          Admin Portal\r\n        </div>\r\n        <nav className=\"flex-grow\">\r\n          <ul className=\"space-y-2 p-4\">\r\n            <li>\r\n              <button\r\n                onClick={() => { setCurrentView('catalogue'); setSidebarOpen(false); }}\r\n                className={`w-full text-left px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${currentView === 'catalogue' ? 'bg-purple-600 text-white' : 'hover:bg-gray-700 text-gray-300'}`}\r\n              >\r\n                Catalogue\r\n              </button>\r\n            </li>\r\n            {!isStaffAuthenticated ? (\r\n              <li>\r\n                <button\r\n                  onClick={handleMockLogin}\r\n                  className=\"w-full text-left px-4 py-2 rounded-lg font-medium transition-colors duration-200 bg-green-500 text-white hover:bg-green-600\"\r\n                >\r\n                  Staff Login\r\n                </button>\r\n              </li>\r\n            ) : (\r\n              <>\r\n                <li>\r\n                  <button\r\n                    onClick={() => { setCurrentView('inventory'); setSidebarOpen(false); }}\r\n                    className={`w-full text-left px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${currentView === 'inventory' ? 'bg-purple-600 text-white' : 'hover:bg-gray-700 text-gray-300'}`}\r\n                  >\r\n                    Inventory\r\n                  </button>\r\n                </li>\r\n                <li>\r\n                  <button\r\n                    onClick={() => { setCurrentView('pos'); setSidebarOpen(false); }}\r\n                    className={`w-full text-left px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${currentView === 'pos' ? 'bg-purple-600 text-white' : 'hover:bg-gray-700 text-gray-300'}`}\r\n                  >\r\n                    Point of Sale\r\n                  </button>\r\n                </li>\r\n                <li>\r\n                  <button\r\n                    onClick={handleLogout}\r\n                    className=\"w-full text-left px-4 py-2 rounded-lg font-medium transition-colors duration-200 bg-red-500 text-white hover:bg-red-600\"\r\n                  >\r\n                    Logout\r\n                  </button>\r\n                </li>\r\n              </>\r\n            )}\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n\r\n      {/* --- Main Content --- */}\r\n      <div className=\"flex-1 flex flex-col p-4 sm:p-8 bg-gradient-to-br from-pink-50 to-purple-100 font-sans antialiased text-gray-800\">\r\n        <div id=\"messageBox\" className=\"fixed top-4 left-1/2 -translate-x-1/2 bg-red-500 text-white px-4 py-2 rounded-lg shadow-xl hidden transition-opacity duration-300\"></div>\r\n        \r\n        {/* Mobile Sidebar Toggle Button */}\r\n        <button\r\n          onClick={() => setSidebarOpen(!sidebarOpen)}\r\n          className=\"md:hidden fixed top-4 left-4 z-50 p-2 bg-purple-600 text-white rounded-full shadow-lg\"\r\n        >\r\n          {sidebarOpen ? '✕' : '☰'}\r\n        </button>\r\n\r\n        <div className=\"max-w-7xl mx-auto w-full\">\r\n          {renderView()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}